<div align="center">
  <h1>
    <img src="./docs/public/logo.png" width="200" alt="SpinningMomo Logo">
    <br/>
    🎮 旋转吧大喵
    <br/><br/>
    <sup>一个为 《无限暖暖》 提升摄影体验的窗口调整工具</sup>
    <br/>

  </h1>

  <p>
    <img alt="Platform" src="https://img.shields.io/badge/platform-Windows-blue?style=flat-square" />
    <img alt="Release" src="https://img.shields.io/github/v/release/ChanIok/SpinningMomo?style=flat-square&color=brightgreen" />
    <img alt="License" src="https://img.shields.io/badge/license-MIT-orange?style=flat-square" />
  </p>

  <p>
    <b>
      <a href="https://chaniok.github.io/SpinningMomo">📖 使用文档</a> •
      <a href="#-特色功能">✨ 特色功能</a> •
      <a href="#-使用指南">🚀 使用指南</a> •
      <a href="#️-构建指南">🛠️ 构建指南</a> •
      <a href="https://chaniok.github.io/SpinningMomo/en/">🌐 English</a>
    </b>
  </p>

  <img src="./docs/public/README.webp" alt="Screenshot" >
</div>

## 🎯 项目简介

旋转吧大喵（SpinningMomo）

▸ 一键切换游戏窗口比例/尺寸，完美适配竖构图拍摄、相册浏览等场景

▸ 突破原生限制，支持生成 8K-12K 超高清游戏截图

▸ 专为《无限暖暖》优化，同时兼容多数 3D 游戏

📖 查看[使用文档](https://chaniok.github.io/SpinningMomo)了解更多详细信息。

> 如果觉得这个工具对你有帮助，欢迎点个 Star ⭐ 支持一下~

## ✨ 特色功能

<div align="center">
  <table>
    <tr>
      <td align="center">🎮 <b>竖拍支持</b><br/>完美支持游戏竖拍UI，留影沙漏和大喵相册</td>
      <td align="center">📸 <b>超高分辨率</b><br/>支持突破游戏和设备分辨率的照片输出</td>
    </tr>
    <tr>
      <td align="center">📐 <b>灵活调整</b><br/>多种预设，自定义比例和分辨率</td>
      <td align="center">⌨️ <b>快捷键支持</b><br/>可自定义热键(默认Ctrl+Alt+R)</td>
    </tr>
    <tr>
      <td align="center">⚙️ <b>浮动窗口</b><br/>可选的浮动菜单，便捷调整窗口</td>
      <td align="center">🚀 <b>轻量运行</b><br/>占用极低，性能优先</td>
    </tr>
  </table>
</div>

## 📖 使用指南

### 1️⃣ 启动程序

> ⚠️ **重要提示：必须以管理员身份运行程序！**

两种授权方式：
- **临时授权**：右键程序 → 选择"以管理员身份运行"
- **永久授权**：右键程序 → 属性 → 兼容性 → 勾选"以管理员身份运行此程序" → 应用

启动后：
- 系统托盘会显示程序图标 <img src="docs/public/logo.png" style="display: inline; height: 1em; vertical-align: text-bottom;" />
- 默认显示浮动窗口，可直接调整窗口

### 2️⃣ 快捷键

| 功能 | 快捷键 | 说明 |
|:--|:--|:--|
| 显示/隐藏浮窗 | `Ctrl + Alt + R` | 默认快捷键，可在托盘菜单中修改 |

### 3️⃣ 拍照模式

<div align="center">
  <table>
    <tr>
      <th align="center">🌟 窗口分辨率模式（推荐）</th>
      <th align="center">📷 标准模式</th>
    </tr>
    <tr>
      <td>
        <b>游戏设置</b><br/>
        ▫️ 显示模式：<b>全屏窗口模式</b>（推荐）或窗口模式<br/>
        ▫️ 拍照画质：<b>窗口分辨率</b>
      </td>
      <td>
        <b>游戏设置</b><br/>
        ▫️ 显示模式：<b>窗口模式</b> 或 全屏窗口模式（比例受限）<br/>
        ▫️ 拍照画质：<b>4K</b>
      </td>
    </tr>
    <tr>
      <td>
        <b>使用步骤</b><br/>
        1️⃣ 使用程序的比例选项调整构图<br/>
        2️⃣ 选择需要的分辨率预设（4K~12K）<br/>
        3️⃣ 画面会溢出屏幕，此时按空格拍照<br/>
        4️⃣ 拍摄完成后点击重置窗口
      </td>
      <td>
        <b>特点说明</b><br/>
        ✅ 操作便捷，适合日常拍摄和预览<br/>
        ✅ 始终保持流畅运行，无需额外性能开销<br/>
        ❗ 只能调整比例，分辨率基于游戏设置的4k<br/>
        ❗ 全屏窗口模式下输出受限于显示器原始比例
      </td>
    </tr>
    <tr>
      <td>
        <b>优势特点</b><br/>
        ✨ 支持超高分辨率（最高12K+）<br/>
        ✨ 可自由调整比例和分辨率
      </td>
      <td>
      </td>
    </tr>
  </table>
</div>

### 4️⃣ 可选功能

<div align="center">
  <table>
    <tr>
      <th align="center"> 🔍 预览窗</th>
      <th align="center"> 📺 叠加层</th>
    </tr>
    <tr>
      <td>
        <b>功能说明</b><br/>
        ▫️ 类似 Photoshop 的导航器功能<br/>
        ▫️ 在窗口溢出屏幕时提供实时预览
      </td>
      <td>
        <b>功能说明</b><br/>
        ▫️ 类似 Magpie 的反向缩小版<br/>
        ▫️ 将目标窗口捕获并渲染到全屏叠加层上<br/>
        ▫️ 比预览窗额外消耗一些CPU资源
      </td>
    </tr>
    <tr>
      <td>
        <b>使用场景</b><br/>
        ✨ 高分辨率拍摄时查看放大后的细节<br/>
        ✨ 窗口溢出屏幕时辅助定位
      </td>
      <td>
        <b>使用场景</b><br/>
        ✨ 提供无感知放大的操作体验<br/>
        ✨ 在超大分辨率下依然保持良好交互
      </td>
    </tr>
    <tr>
      <td colspan="2" align="center">
        <b>💡 性能说明</b><br/>
        得益于高效的捕获方式，这两种功能几乎不会造成明显的性能下降。<br/>
        但如果你选择的高分辨率已经让电脑卡成PPT了，建议暂时不要开启这些功能。
      </td>
    </tr>
  </table>
</div>

### 📥 下载地址

- **GitHub Release**：[点击下载最新版本](https://github.com/ChanIok/SpinningMomo/releases/latest)
- **蓝奏云**：[点击下载](https://wwf.lanzoul.com/b0sxagp0d)（密码：momo）
- **百度网盘**：[点击下载](https://pan.baidu.com/s/1UL9EJa2ogSZ4DcnGa2XcRQ?pwd=momo)（提取码：momo）

> 📖 更多详细说明请查看[完整文档](https://chaniok.github.io/SpinningMomo/)

## 🛠️ 构建指南

### 环境要求

- Visual Studio 2022+
- Windows SDK 10.0.22621.0+（Windows 11 SDK）
- CMake 3.15+

### 构建步骤

1. 克隆仓库到本地
2. 使用 Visual Studio 打开 CMakeLists.txt
3. 选择 Release/x64 配置
4. 生成解决方案

## ❤️ 致谢

- 99.9% 的代码由 Claude 3.5 Sonnet 和 Claude 3.7 Sonnet 编写（不愧是你们）
- 剩下的 0.1% 代码也是在 AI 的指导下完成的
- 项目所有者只是个调试工程师和项目经理 😂

## 📄 开源协议

本项目采用 [MIT 协议](LICENSE) 开源。项目图标来自游戏《无限暖暖》，版权归游戏开发商所有。

## 📅 项目进化史 
<details>
<summary><h3>折腾的经历</h3></summary>

> _以下是 Claude AI 生成的历史_

### v0.1.0 - 投屏大法好？

尝试用 Windows Graphics Capture API 实现实时画面捕获和旋转。  
效果很酷！但实际用起来... 嗯... UI 还是横着的啊喂！  
[查看代码](https://github.com/ChanIok/SpinningMomo/tree/v0.1.0)

### v0.2.0 - 灵光一闪

"既然 UI 不转，那我转屏幕总行了吧！"  
结果：确实可以，但是... 你愿意继续歪着脖子玩游戏吗？  
[查看代码](https://github.com/ChanIok/SpinningMomo/tree/v0.2.0)

### v0.3.0 - 顿悟时刻

终于开窍了 —— 旋转窗口才是正道！  
完美解决 UI 翻转问题，画质也不受影响，这才是真正的优雅方案！  
[查看代码](https://github.com/ChanIok/SpinningMomo/tree/v0.3.0)

### v0.4.0 - 意外之喜

某天摸鱼时的意外发现：  
全屏窗口模式 + 拍照画质选择窗口分辨率 = 8K 照片？！  
这个 bug 我喜欢，这个 bug 我留着！  
[查看代码](https://github.com/ChanIok/SpinningMomo/tree/v0.4.0)

### v0.5.0 - 原生の浮窗

"用原生 Win32 API 写 UI？疯了吧！"  
是的，我们就是用最朴素的 Windows API 手写了每一个像素...  
没有现代框架，没有拖拽设计器，纯手工打造的浮窗界面！  
[查看代码](https://github.com/ChanIok/SpinningMomo/tree/v0.5.0)

### v0.6.0 - 窗外有喵

"8K 截图是很爽，但是... 窗口跑到屏幕外面去了诶！"  
于是我们又双叒叕用 DirectX 11 手搓了一个预览窗口...  
拖拽、缩放、实时预览，完美复刻了 PS 的导航器！  
[查看代码](https://github.com/ChanIok/SpinningMomo/tree/v0.6.0)

### v0.7.0 - 真·大喵视野

"猫咪视野可是 200°，我们的大喵凭什么只能看到一小部分？"  
是叠加层魔法！让大喵毫不费力地跨越了显示器的边界线...  
虽然CPU占用率曲线画出了猫抓板图案，但这就是突破次元壁的代价！  
[查看代码](https://github.com/ChanIok/SpinningMomo/tree/v0.7.0)

</details>
